<% 
  case @settings['mode']  
    when 0
%>
pref("network.proxy.type",0);
<%  when 1 %>
pref("network.proxy.type",1);
<% if @settings['http_proxy'] and !@settings['http_proxy'].empty?  %>
pref("network.proxy.http","<%= @settings['http_proxy'] %>");
pref("network.proxy.http_port", <%= @settings['http_proxy_port'] %>);
<% end %>
<% if @settings['https_proxy'] and !@settings['https_proxy'].empty? %>
pref("network.proxy.ssl","<%= @settings['https_proxy'] %>");
pref("network.proxy.ssl_port", <%= @settings['https_proxy_port'] %>);
<% end %>
<%  when 2 %>
pref("network.proxy.type", 2);
pref("network.proxy.autoconfig_url", "<%= @settings['proxy_autoconfig_url'] %>");
<%  when 4 %>
pref("network.proxy.type", 4);
<%  when 5 %>
pref("network.proxy.type", 5);
<% end %>
<% if not @settings['no_proxies_on'].nil? %>
pref("network.proxy.no_proxies_on", <%= @settings['no_proxies_on'] %>);
<% end %>
